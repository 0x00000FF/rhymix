<include target="header.html" />

<div cond="$XE_VALIDATOR_MESSAGE && $XE_VALIDATOR_ID == 'modules/file/tpl/upload_config/1'" class="message {$XE_VALIDATOR_MESSAGE_TYPE}">
	<p>{$XE_VALIDATOR_MESSAGE}</p>
</div>

<form ruleset="insertConfig" action="./" method="post" class="x_form-horizontal section">
	<input type="hidden" name="module" value="file" />
	<input type="hidden" name="act" value="procFileAdminInsertUploadConfig" />
	<input type="hidden" name="xe_validator_id" value="modules/file/tpl/upload_config/1" />
	<div class="x_control-group">
		<label for="allowed_filesize" class="x_control-label">{$lang->allowed_filesize}</label>
		<div class="x_controls">
			<input type="number" min="0" name="allowed_filesize" id="allowed_filesize" value="{$config->allowed_filesize}" size="7" style="min-width:80px" /> MB
			<p class="x_help-block">{$lang->about_allowed_filesize_global}<br />{sprintf($lang->about_allowed_size_limits, ini_get('upload_max_filesize'))}</p>
		</div>
	</div>
	<div class="x_control-group">
		<label for="allowed_attach_size" class="x_control-label">{$lang->allowed_attach_size}</label>
		<div class="x_controls">
			<input type="number" min="0" name="allowed_attach_size" id="allowed_attach_size" value="{$config->allowed_attach_size}" size="7" style="min-width:80px" /> MB
			<p class="x_help-block">{$lang->about_allowed_attach_size_global}<br />{sprintf($lang->about_allowed_size_limits, ini_get('upload_max_filesize'))}</p>
		</div>
	</div>
	<div class="x_control-group">
		<label for="max_image_width" class="x_control-label">{$lang->max_image_size}</label>
		<div class="x_controls">
			<input type="number" min="0" name="max_image_width" id="max_image_width" value="{$config->max_image_width}" size="7" style="min-width:80px" /> &times;
			<input type="number" min="0" name="max_image_height" id="max_image_height" value="{$config->max_image_height}" size="7" style="min-width:80px" /> px &nbsp;
			<select name="max_image_size_action" id="max_image_size_action">
				<option value="" selected="selected"|cond="$config->max_image_size_action == ''">{$lang->max_image_size_action_nothing}</option>
				<option value="block" selected="selected"|cond="$config->max_image_size_action == 'block'">{$lang->max_image_size_action_block}</option>
				<option value="resize" selected="selected"|cond="$config->max_image_size_action == 'resize'">{$lang->max_image_size_action_resize}</option>
			</select>
			<p class="x_help-block">{$lang->about_max_image_size}</p>
		</div>
	</div>
	<div class="x_control-group">
		<label for="allowedFiletypes" class="x_control-label">{$lang->allowed_filetypes}</label>
		<div class="x_controls">
			<input id="allowedFiletypes" type="text" name="allowed_filetypes" value="{$config->allowed_filetypes}" />
			<p class="x_help-block">{$lang->about_allowed_filetypes}</p>
		</div>
	</div>
	<div class="x_clearfix btnArea">
		<div class="x_pull-right">
			<button type="submit" class="x_btn x_btn-primary">{$lang->cmd_save}</button>
		</div>
	</div>
</form>
